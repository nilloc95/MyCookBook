

<div class="container mb-5">

  {{!-- ALL IMAGES USED SO FAR HAVE BEEN FROM FREE USE IMAGE SITES SUCH AS UNSPLASH.COM AND PEXELS.COM --}}

<div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
    <h2 class="text-center">Top Recipes:</h2>
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
  </div>
  {{!-- First Item --}}
  <div class="carousel-inner">
    <div class="carousel-item active" data-bs-interval="7000">
        {{#if (checkUrl data.first.image)}}
            <a href="/recipe/{{data.first._id}}">
                <img src={{data.first.image}} class="d-block c-image w-100" onerror="src = addImage()" alt="Best Recipe">
            </a>
            
        {{else}}
            <a href="/recipe/{{data.first._id}}">
                <img src="https://cdn.pixabay.com/photo/2018/04/28/14/12/food-3357374_960_720.jpg" class="d-block c-image w-100" alt="Second Best Recipe">
            </a>
        {{/if}}
      <div class="carousel-caption d-none d-md-block">
        <h3 class="opacity-high">{{data.first.title}} - {{data.first.likes}} likes</h3>
        <p class="opacity-high carousel-description">{{stripTags data.first.description}}</p>
        <a href="/recipe/{{data.first._id}}" class="btn btn-secondary">Go to recipe</a>
      </div>
    </div>
{{!-- Second Item --}}
    <div class="carousel-item" data-bs-interval="5000">
        {{#if (checkUrl data.second.image)}}
            <a href="/recipe/{{data.second._id}}">
                <img src={{data.second.image}} class="d-block c-image w-100" onerror="src = addImage()" alt="...">
            </a>
        {{else}}
            <a href="/recipe/{{data.second._id}}">
                <img src="https://cdn.pixabay.com/photo/2018/04/28/14/12/food-3357374_960_720.jpg" class="d-block c-image w-100" alt="Third Best Recipe">
            </a>
        {{/if}}
      <div class="carousel-caption d-none d-md-block">
        <h3 class="opacity-high">{{data.second.title}} - {{data.second.likes}} likes</h3>
        <p class="opacity-high carousel-description">{{stripTags data.second.description}}</p>
        <a href="/recipe/{{data.second._id}}" class="btn btn-secondary">Go to recipe</a>
      </div>
    </div>
{{!-- Third Item --}}
    <div class="carousel-item" data-bs-interval="5000">
      {{#if (checkUrl data.third.image)}}
            <a href="/recipe/{{data.third._id}}">
                <img src={{data.third.image}} class="d-block c-image w-100" onerror="src = addImage()" alt="...">
            </a>
        {{else}}
            <a href="/recipe/{{data.second._id}}">
                <img src="https://cdn.pixabay.com/photo/2018/04/28/14/12/food-3357374_960_720.jpg" class="d-block c-image w-100" alt="...">
            </a>
        {{/if}}
      <div class="carousel-caption d-none d-md-block">
        <h3 class="opacity-high">{{data.third.title}} - {{data.third.likes}} likes</h3>
        <p class="opacity-high carousel-description">{{stripTags data.third.description}}</p>
        <a href="/recipe/{{data.third._id}}" class="btn btn-secondary">Go to recipe</a>
      </div>
    </div>
  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>   
</div>

<nav class="navbar navbar-expand-md navbar-light bg-light">
   
   <div class="container-fluid hidden-button justify-content-center" aria-expanded="false">
     Sorting & Filters 
     <button class="navbar-toggler ms-3" type="button" data-bs-toggle="collapse"
                data-bs-target="#filtersCollapse" aria-controls="filtersCollapse" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
    </button>
   </div>
    
  <div class="collapse navbar-collapse" id="filtersCollapse">
     <div class="container-fluid d-flex align-items-center justify-content-center">
    <div class="navbar-brand sort-title"> Sorting & Filters:</div>
    <form class="d-flex" action="/filter" method="GET">
    <ul class="navbar-nav my-2 my-lg-0" style="--bs-scroll-height: 100px;">
      {{!-- Sort --}}
      <li class="nav-item mx-1">
          <select name="sort" id="sort" class="form-select">
              <option value="createdAt">New</option>
              <option value="likes">Likes</option>
          </select>
        </li>
        {{!-- Filter by Region --}}
      <li class="nav-item mx-1">
          <select name="region" id="region" class="form-select">
              <option value="Region">Region</option>
              <option value="American">American</option>
              <option value="Italian">Italian</option>                       
              <option value="French">French</option>
              <option value="Chinese ">Chinese </option>
              <option value="Mexican">Mexican</option>
              <option value="Japanese">Japanese</option>
              <option value="Thai">Thai</option>
              <option value="Middle-Eastern">Middle-Eastern</option>
              <option value="Asian">Asian</option>
              <option value="European">European</option>
              <option value="South-America">South-America</option>
              <option value="African">African</option>
              <option value="Australian">Australian</option>
              <option value="Other">Other</option>
          </select>
        </li>

      {{!-- Filter By Time of Day --}}

      <li class="nav-item mx-1">
          <select name="time" id="time" class="form-select">
              <option value="time">Time of Day</option>
              <option value="Dinner">Dinner</option>
              <option value="Lunch">Lunch</option>
              <option value="Breakfast">Breakfast</option>                       
              <option value="Brunch">Brunch</option>
              <option value="Dessert ">Dessert </option>
              <option value="Other">Other</option>
          </select>
        </li>

      {{!-- Filter By Diet --}}

      <li class="nav-item mx-1">
          <select name="diet" id="diet" class="form-select">
              <option value="diet">Diet</option>
              <option value="None">None</option>
                <option value="Vegetarian">Vegetarian</option>
                <option value="Vegan">Vegan</option>
                <option value="Paleo ">Paleo </option>
                <option value="Gluten-Free">Gluten-Free</option>
                <option value="Keto">Keto</option>
          </select>
        </li>
      
          <button class="btn ms-3 btn-outline-success" type="submit">Search</button>
      </form>
    </ul>

  </div>
    </div>
  </div>
</nav>

    {{> card}}
    
